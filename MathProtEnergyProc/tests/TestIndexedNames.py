import numpy as np

from MathProtEnergyProc.IndexedNames import IndexedNames

import unittest


# Модульные тесты
class TestIndexedNames(unittest.TestCase):
    def setUp(self):
        # Выполнить настройку тестов (если необходимо)
        pass

    def tearDown(self):
        # Выполнить завершающие действия (если необходимо)
        pass

    # Модульные тесты
    def testIndexedNames1(self):
        # Исходные данные
        rangeIndexes1 = (0, 2, 1)
        rangeIndexes2 = (1, 7, 2)
        rangeIndexes3 = (2, 14, 3)
        listIndexesDiapasons = [rangeIndexes1,
                                rangeIndexes2,
                                rangeIndexes3]
        beginName = "v"  # Начало имени
        selectIndexes = [1, 2, 0]  # Индексы окончательного выбора

        # Индексированные имена
        IndexedNamesEt = ["v0_1_2",
                          "v0_1_5",
                          "v0_1_8",
                          "v0_1_11",
                          "v0_3_2",
                          "v0_3_5",
                          "v0_3_8",
                          "v0_3_11",
                          "v0_5_2",
                          "v0_5_5",
                          "v0_5_8",
                          "v0_5_11",
                          "v1_1_2",
                          "v1_1_5",
                          "v1_1_8",
                          "v1_1_11",
                          "v1_3_2",
                          "v1_3_5",
                          "v1_3_8",
                          "v1_3_11",
                          "v1_5_2",
                          "v1_5_5",
                          "v1_5_8",
                          "v1_5_11"]
        IndexedNamesEtSel = ["v1_2_0",
                             "v1_5_0",
                             "v1_8_0",
                             "v1_11_0",
                             "v3_2_0",
                             "v3_5_0",
                             "v3_8_0",
                             "v3_11_0",
                             "v5_2_0",
                             "v5_5_0",
                             "v5_8_0",
                             "v5_11_0",
                             "v1_2_1",
                             "v1_5_1",
                             "v1_8_1",
                             "v1_11_1",
                             "v3_2_1",
                             "v3_5_1",
                             "v3_8_1",
                             "v3_11_1",
                             "v5_2_1",
                             "v5_5_1",
                             "v5_8_1",
                             "v5_11_1"]

        # Генерируем индексированные имена
        indexedNames = IndexedNames(listIndexesDiapasons,  # Индексы
                                    beginName  # Начало имени
                                    )

        # Проверяем значения
        self.assertTrue(np.all(indexedNames == IndexedNamesEt))

        # Генерируем индексированные имена
        indexedNames = IndexedNames(listIndexesDiapasons,  # Индексы
                                    beginName,  # Начало имени
                                    selectIndexes=selectIndexes  # Индексы окончательного выбора
                                    )

        # Проверяем значения
        self.assertTrue(np.all(indexedNames == IndexedNamesEtSel))

    def testIndexedNames2(self):
        # Исходные данные
        rangeIndexes1 = (0, 5, 2)
        rangeIndexes2 = (1, 8, 3)
        rangeIndexes3 = (1, 7, 1)
        rangeIndexes4 = (3, 24, 5)
        listIndexesDiapasons = [rangeIndexes1,
                                rangeIndexes2,
                                rangeIndexes3,
                                rangeIndexes4]
        beginName = "b"  # Начало имени
        endName = "e"  # Конец имени
        selectIndexes = [0, 2, 3]  # Индексы окончательного выбора

        # Индексированные имена
        IndexedNamesEt = ["b0_1_1_3e",
                          "b0_1_1_8e",
                          "b0_1_1_13e",
                          "b0_1_1_18e",
                          "b0_1_1_23e",
                          "b0_1_2_3e",
                          "b0_1_2_8e",
                          "b0_1_2_13e",
                          "b0_1_2_18e",
                          "b0_1_2_23e",
                          "b0_1_3_3e",
                          "b0_1_3_8e",
                          "b0_1_3_13e",
                          "b0_1_3_18e",
                          "b0_1_3_23e",
                          "b0_1_4_3e",
                          "b0_1_4_8e",
                          "b0_1_4_13e",
                          "b0_1_4_18e",
                          "b0_1_4_23e",
                          "b0_1_5_3e",
                          "b0_1_5_8e",
                          "b0_1_5_13e",
                          "b0_1_5_18e",
                          "b0_1_5_23e",
                          "b0_1_6_3e",
                          "b0_1_6_8e",
                          "b0_1_6_13e",
                          "b0_1_6_18e",
                          "b0_1_6_23e",
                          "b0_4_1_3e",
                          "b0_4_1_8e",
                          "b0_4_1_13e",
                          "b0_4_1_18e",
                          "b0_4_1_23e",
                          "b0_4_2_3e",
                          "b0_4_2_8e",
                          "b0_4_2_13e",
                          "b0_4_2_18e",
                          "b0_4_2_23e",
                          "b0_4_3_3e",
                          "b0_4_3_8e",
                          "b0_4_3_13e",
                          "b0_4_3_18e",
                          "b0_4_3_23e",
                          "b0_4_4_3e",
                          "b0_4_4_8e",
                          "b0_4_4_13e",
                          "b0_4_4_18e",
                          "b0_4_4_23e",
                          "b0_4_5_3e",
                          "b0_4_5_8e",
                          "b0_4_5_13e",
                          "b0_4_5_18e",
                          "b0_4_5_23e",
                          "b0_4_6_3e",
                          "b0_4_6_8e",
                          "b0_4_6_13e",
                          "b0_4_6_18e",
                          "b0_4_6_23e",
                          "b0_7_1_3e",
                          "b0_7_1_8e",
                          "b0_7_1_13e",
                          "b0_7_1_18e",
                          "b0_7_1_23e",
                          "b0_7_2_3e",
                          "b0_7_2_8e",
                          "b0_7_2_13e",
                          "b0_7_2_18e",
                          "b0_7_2_23e",
                          "b0_7_3_3e",
                          "b0_7_3_8e",
                          "b0_7_3_13e",
                          "b0_7_3_18e",
                          "b0_7_3_23e",
                          "b0_7_4_3e",
                          "b0_7_4_8e",
                          "b0_7_4_13e",
                          "b0_7_4_18e",
                          "b0_7_4_23e",
                          "b0_7_5_3e",
                          "b0_7_5_8e",
                          "b0_7_5_13e",
                          "b0_7_5_18e",
                          "b0_7_5_23e",
                          "b0_7_6_3e",
                          "b0_7_6_8e",
                          "b0_7_6_13e",
                          "b0_7_6_18e",
                          "b0_7_6_23e",
                          "b2_1_1_3e",
                          "b2_1_1_8e",
                          "b2_1_1_13e",
                          "b2_1_1_18e",
                          "b2_1_1_23e",
                          "b2_1_2_3e",
                          "b2_1_2_8e",
                          "b2_1_2_13e",
                          "b2_1_2_18e",
                          "b2_1_2_23e",
                          "b2_1_3_3e",
                          "b2_1_3_8e",
                          "b2_1_3_13e",
                          "b2_1_3_18e",
                          "b2_1_3_23e",
                          "b2_1_4_3e",
                          "b2_1_4_8e",
                          "b2_1_4_13e",
                          "b2_1_4_18e",
                          "b2_1_4_23e",
                          "b2_1_5_3e",
                          "b2_1_5_8e",
                          "b2_1_5_13e",
                          "b2_1_5_18e",
                          "b2_1_5_23e",
                          "b2_1_6_3e",
                          "b2_1_6_8e",
                          "b2_1_6_13e",
                          "b2_1_6_18e",
                          "b2_1_6_23e",
                          "b2_4_1_3e",
                          "b2_4_1_8e",
                          "b2_4_1_13e",
                          "b2_4_1_18e",
                          "b2_4_1_23e",
                          "b2_4_2_3e",
                          "b2_4_2_8e",
                          "b2_4_2_13e",
                          "b2_4_2_18e",
                          "b2_4_2_23e",
                          "b2_4_3_3e",
                          "b2_4_3_8e",
                          "b2_4_3_13e",
                          "b2_4_3_18e",
                          "b2_4_3_23e",
                          "b2_4_4_3e",
                          "b2_4_4_8e",
                          "b2_4_4_13e",
                          "b2_4_4_18e",
                          "b2_4_4_23e",
                          "b2_4_5_3e",
                          "b2_4_5_8e",
                          "b2_4_5_13e",
                          "b2_4_5_18e",
                          "b2_4_5_23e",
                          "b2_4_6_3e",
                          "b2_4_6_8e",
                          "b2_4_6_13e",
                          "b2_4_6_18e",
                          "b2_4_6_23e",
                          "b2_7_1_3e",
                          "b2_7_1_8e",
                          "b2_7_1_13e",
                          "b2_7_1_18e",
                          "b2_7_1_23e",
                          "b2_7_2_3e",
                          "b2_7_2_8e",
                          "b2_7_2_13e",
                          "b2_7_2_18e",
                          "b2_7_2_23e",
                          "b2_7_3_3e",
                          "b2_7_3_8e",
                          "b2_7_3_13e",
                          "b2_7_3_18e",
                          "b2_7_3_23e",
                          "b2_7_4_3e",
                          "b2_7_4_8e",
                          "b2_7_4_13e",
                          "b2_7_4_18e",
                          "b2_7_4_23e",
                          "b2_7_5_3e",
                          "b2_7_5_8e",
                          "b2_7_5_13e",
                          "b2_7_5_18e",
                          "b2_7_5_23e",
                          "b2_7_6_3e",
                          "b2_7_6_8e",
                          "b2_7_6_13e",
                          "b2_7_6_18e",
                          "b2_7_6_23e",
                          "b4_1_1_3e",
                          "b4_1_1_8e",
                          "b4_1_1_13e",
                          "b4_1_1_18e",
                          "b4_1_1_23e",
                          "b4_1_2_3e",
                          "b4_1_2_8e",
                          "b4_1_2_13e",
                          "b4_1_2_18e",
                          "b4_1_2_23e",
                          "b4_1_3_3e",
                          "b4_1_3_8e",
                          "b4_1_3_13e",
                          "b4_1_3_18e",
                          "b4_1_3_23e",
                          "b4_1_4_3e",
                          "b4_1_4_8e",
                          "b4_1_4_13e",
                          "b4_1_4_18e",
                          "b4_1_4_23e",
                          "b4_1_5_3e",
                          "b4_1_5_8e",
                          "b4_1_5_13e",
                          "b4_1_5_18e",
                          "b4_1_5_23e",
                          "b4_1_6_3e",
                          "b4_1_6_8e",
                          "b4_1_6_13e",
                          "b4_1_6_18e",
                          "b4_1_6_23e",
                          "b4_4_1_3e",
                          "b4_4_1_8e",
                          "b4_4_1_13e",
                          "b4_4_1_18e",
                          "b4_4_1_23e",
                          "b4_4_2_3e",
                          "b4_4_2_8e",
                          "b4_4_2_13e",
                          "b4_4_2_18e",
                          "b4_4_2_23e",
                          "b4_4_3_3e",
                          "b4_4_3_8e",
                          "b4_4_3_13e",
                          "b4_4_3_18e",
                          "b4_4_3_23e",
                          "b4_4_4_3e",
                          "b4_4_4_8e",
                          "b4_4_4_13e",
                          "b4_4_4_18e",
                          "b4_4_4_23e",
                          "b4_4_5_3e",
                          "b4_4_5_8e",
                          "b4_4_5_13e",
                          "b4_4_5_18e",
                          "b4_4_5_23e",
                          "b4_4_6_3e",
                          "b4_4_6_8e",
                          "b4_4_6_13e",
                          "b4_4_6_18e",
                          "b4_4_6_23e",
                          "b4_7_1_3e",
                          "b4_7_1_8e",
                          "b4_7_1_13e",
                          "b4_7_1_18e",
                          "b4_7_1_23e",
                          "b4_7_2_3e",
                          "b4_7_2_8e",
                          "b4_7_2_13e",
                          "b4_7_2_18e",
                          "b4_7_2_23e",
                          "b4_7_3_3e",
                          "b4_7_3_8e",
                          "b4_7_3_13e",
                          "b4_7_3_18e",
                          "b4_7_3_23e",
                          "b4_7_4_3e",
                          "b4_7_4_8e",
                          "b4_7_4_13e",
                          "b4_7_4_18e",
                          "b4_7_4_23e",
                          "b4_7_5_3e",
                          "b4_7_5_8e",
                          "b4_7_5_13e",
                          "b4_7_5_18e",
                          "b4_7_5_23e",
                          "b4_7_6_3e",
                          "b4_7_6_8e",
                          "b4_7_6_13e",
                          "b4_7_6_18e",
                          "b4_7_6_23e"]
        IndexedNamesEtSel = ["b0_1_3e",
                             "b0_1_8e",
                             "b0_1_13e",
                             "b0_1_18e",
                             "b0_1_23e",
                             "b0_2_3e",
                             "b0_2_8e",
                             "b0_2_13e",
                             "b0_2_18e",
                             "b0_2_23e",
                             "b0_3_3e",
                             "b0_3_8e",
                             "b0_3_13e",
                             "b0_3_18e",
                             "b0_3_23e",
                             "b0_4_3e",
                             "b0_4_8e",
                             "b0_4_13e",
                             "b0_4_18e",
                             "b0_4_23e",
                             "b0_5_3e",
                             "b0_5_8e",
                             "b0_5_13e",
                             "b0_5_18e",
                             "b0_5_23e",
                             "b0_6_3e",
                             "b0_6_8e",
                             "b0_6_13e",
                             "b0_6_18e",
                             "b0_6_23e",
                             "b0_1_3e",
                             "b0_1_8e",
                             "b0_1_13e",
                             "b0_1_18e",
                             "b0_1_23e",
                             "b0_2_3e",
                             "b0_2_8e",
                             "b0_2_13e",
                             "b0_2_18e",
                             "b0_2_23e",
                             "b0_3_3e",
                             "b0_3_8e",
                             "b0_3_13e",
                             "b0_3_18e",
                             "b0_3_23e",
                             "b0_4_3e",
                             "b0_4_8e",
                             "b0_4_13e",
                             "b0_4_18e",
                             "b0_4_23e",
                             "b0_5_3e",
                             "b0_5_8e",
                             "b0_5_13e",
                             "b0_5_18e",
                             "b0_5_23e",
                             "b0_6_3e",
                             "b0_6_8e",
                             "b0_6_13e",
                             "b0_6_18e",
                             "b0_6_23e",
                             "b0_1_3e",
                             "b0_1_8e",
                             "b0_1_13e",
                             "b0_1_18e",
                             "b0_1_23e",
                             "b0_2_3e",
                             "b0_2_8e",
                             "b0_2_13e",
                             "b0_2_18e",
                             "b0_2_23e",
                             "b0_3_3e",
                             "b0_3_8e",
                             "b0_3_13e",
                             "b0_3_18e",
                             "b0_3_23e",
                             "b0_4_3e",
                             "b0_4_8e",
                             "b0_4_13e",
                             "b0_4_18e",
                             "b0_4_23e",
                             "b0_5_3e",
                             "b0_5_8e",
                             "b0_5_13e",
                             "b0_5_18e",
                             "b0_5_23e",
                             "b0_6_3e",
                             "b0_6_8e",
                             "b0_6_13e",
                             "b0_6_18e",
                             "b0_6_23e",
                             "b2_1_3e",
                             "b2_1_8e",
                             "b2_1_13e",
                             "b2_1_18e",
                             "b2_1_23e",
                             "b2_2_3e",
                             "b2_2_8e",
                             "b2_2_13e",
                             "b2_2_18e",
                             "b2_2_23e",
                             "b2_3_3e",
                             "b2_3_8e",
                             "b2_3_13e",
                             "b2_3_18e",
                             "b2_3_23e",
                             "b2_4_3e",
                             "b2_4_8e",
                             "b2_4_13e",
                             "b2_4_18e",
                             "b2_4_23e",
                             "b2_5_3e",
                             "b2_5_8e",
                             "b2_5_13e",
                             "b2_5_18e",
                             "b2_5_23e",
                             "b2_6_3e",
                             "b2_6_8e",
                             "b2_6_13e",
                             "b2_6_18e",
                             "b2_6_23e",
                             "b2_1_3e",
                             "b2_1_8e",
                             "b2_1_13e",
                             "b2_1_18e",
                             "b2_1_23e",
                             "b2_2_3e",
                             "b2_2_8e",
                             "b2_2_13e",
                             "b2_2_18e",
                             "b2_2_23e",
                             "b2_3_3e",
                             "b2_3_8e",
                             "b2_3_13e",
                             "b2_3_18e",
                             "b2_3_23e",
                             "b2_4_3e",
                             "b2_4_8e",
                             "b2_4_13e",
                             "b2_4_18e",
                             "b2_4_23e",
                             "b2_5_3e",
                             "b2_5_8e",
                             "b2_5_13e",
                             "b2_5_18e",
                             "b2_5_23e",
                             "b2_6_3e",
                             "b2_6_8e",
                             "b2_6_13e",
                             "b2_6_18e",
                             "b2_6_23e",
                             "b2_1_3e",
                             "b2_1_8e",
                             "b2_1_13e",
                             "b2_1_18e",
                             "b2_1_23e",
                             "b2_2_3e",
                             "b2_2_8e",
                             "b2_2_13e",
                             "b2_2_18e",
                             "b2_2_23e",
                             "b2_3_3e",
                             "b2_3_8e",
                             "b2_3_13e",
                             "b2_3_18e",
                             "b2_3_23e",
                             "b2_4_3e",
                             "b2_4_8e",
                             "b2_4_13e",
                             "b2_4_18e",
                             "b2_4_23e",
                             "b2_5_3e",
                             "b2_5_8e",
                             "b2_5_13e",
                             "b2_5_18e",
                             "b2_5_23e",
                             "b2_6_3e",
                             "b2_6_8e",
                             "b2_6_13e",
                             "b2_6_18e",
                             "b2_6_23e",
                             "b4_1_3e",
                             "b4_1_8e",
                             "b4_1_13e",
                             "b4_1_18e",
                             "b4_1_23e",
                             "b4_2_3e",
                             "b4_2_8e",
                             "b4_2_13e",
                             "b4_2_18e",
                             "b4_2_23e",
                             "b4_3_3e",
                             "b4_3_8e",
                             "b4_3_13e",
                             "b4_3_18e",
                             "b4_3_23e",
                             "b4_4_3e",
                             "b4_4_8e",
                             "b4_4_13e",
                             "b4_4_18e",
                             "b4_4_23e",
                             "b4_5_3e",
                             "b4_5_8e",
                             "b4_5_13e",
                             "b4_5_18e",
                             "b4_5_23e",
                             "b4_6_3e",
                             "b4_6_8e",
                             "b4_6_13e",
                             "b4_6_18e",
                             "b4_6_23e",
                             "b4_1_3e",
                             "b4_1_8e",
                             "b4_1_13e",
                             "b4_1_18e",
                             "b4_1_23e",
                             "b4_2_3e",
                             "b4_2_8e",
                             "b4_2_13e",
                             "b4_2_18e",
                             "b4_2_23e",
                             "b4_3_3e",
                             "b4_3_8e",
                             "b4_3_13e",
                             "b4_3_18e",
                             "b4_3_23e",
                             "b4_4_3e",
                             "b4_4_8e",
                             "b4_4_13e",
                             "b4_4_18e",
                             "b4_4_23e",
                             "b4_5_3e",
                             "b4_5_8e",
                             "b4_5_13e",
                             "b4_5_18e",
                             "b4_5_23e",
                             "b4_6_3e",
                             "b4_6_8e",
                             "b4_6_13e",
                             "b4_6_18e",
                             "b4_6_23e",
                             "b4_1_3e",
                             "b4_1_8e",
                             "b4_1_13e",
                             "b4_1_18e",
                             "b4_1_23e",
                             "b4_2_3e",
                             "b4_2_8e",
                             "b4_2_13e",
                             "b4_2_18e",
                             "b4_2_23e",
                             "b4_3_3e",
                             "b4_3_8e",
                             "b4_3_13e",
                             "b4_3_18e",
                             "b4_3_23e",
                             "b4_4_3e",
                             "b4_4_8e",
                             "b4_4_13e",
                             "b4_4_18e",
                             "b4_4_23e",
                             "b4_5_3e",
                             "b4_5_8e",
                             "b4_5_13e",
                             "b4_5_18e",
                             "b4_5_23e",
                             "b4_6_3e",
                             "b4_6_8e",
                             "b4_6_13e",
                             "b4_6_18e",
                             "b4_6_23e"]

        # Генерируем индексированные имена
        indexedNames = IndexedNames(listIndexesDiapasons,  # Индексы
                                    beginName,  # Начало имени
                                    endName=endName  # Конец имени
                                    )

        # Проверяем значения
        self.assertTrue(np.all(indexedNames == IndexedNamesEt))

        # Генерируем индексированные имена
        indexedNames = IndexedNames(listIndexesDiapasons,  # Индексы
                                    beginName,  # Начало имени
                                    endName=endName,  # Конец имени
                                    selectIndexes=selectIndexes  # Индексы окончательного выбора
                                    )

        # Проверяем значения
        self.assertTrue(np.all(indexedNames == IndexedNamesEtSel))

    def testIndexedNames3(self):
        # Исходные данные
        rangeIndexes1 = (2, 9, 2)
        rangeIndexes2 = (1, 10, 4)
        listIndexesDiapasons = [rangeIndexes1,
                                rangeIndexes2]
        beginName = "beg"  # Начало имени
        endName = "end"  # Конец имени
        sepName = "@"  # Раздлитель имени
        selectIndexes = [1, 0]  # Индексы окончательного выбора

        # Индексированные имена
        IndexedNamesEt = ["beg2@1end",
                          "beg2@5end",
                          "beg2@9end",
                          "beg4@1end",
                          "beg4@5end",
                          "beg4@9end",
                          "beg6@1end",
                          "beg6@5end",
                          "beg6@9end",
                          "beg8@1end",
                          "beg8@5end",
                          "beg8@9end"]
        IndexedNamesEtSel = ["beg1@2end",
                             "beg5@2end",
                             "beg9@2end",
                             "beg1@4end",
                             "beg5@4end",
                             "beg9@4end",
                             "beg1@6end",
                             "beg5@6end",
                             "beg9@6end",
                             "beg1@8end",
                             "beg5@8end",
                             "beg9@8end"]

        # Генерируем индексированные имена
        indexedNames = IndexedNames(listIndexesDiapasons,  # Индексы
                                    beginName,  # Начало имени
                                    endName=endName,  # Конец имени
                                    sepName=sepName  # Раздлитель имени
                                    )

        # Проверяем значения
        self.assertTrue(np.all(indexedNames == IndexedNamesEt))

        # Генерируем индексированные имена
        indexedNames = IndexedNames(listIndexesDiapasons,  # Индексы
                                    beginName,  # Начало имени
                                    endName=endName,  # Конец имени
                                    sepName=sepName,  # Раздлитель имени
                                    selectIndexes=selectIndexes  # Индексы окончательного выбора
                                    )

        # Проверяем значения
        self.assertTrue(np.all(indexedNames == IndexedNamesEtSel))


# Запустить тестирование
if __name__ == "__main__":
    unittest.main()
